- name: create .newsboat
  file: path=/home/{{user}}/.newsboat state=directory recurse=yes group=users owner={{user}}

- name: create newsboat urls
  file: path=/home/{{user}}/.newsboat/urls state=touch group=users owner={{user}} 

- name: add urls
  blockinfile: 
    dest: /home/{{user}}/.newsboat/urls
    block: |
      http://greenparty.org.uk/news.atom.xml
      http://daringfireball.net/index.xml apple
      https://www.schneier.com/blog/atom.xml
      http://feeds.feedburner.com/londonist/sBMe?format=xml
      https://stallman.org/rss/rss.xml
      https://blog.linode.com/feed/
      https://georgelakoff.com/feed/

- name: crete newsboat config
  file: path=/home/{{user}}/.newsboat/config state=touch group=users owner={{user}}

- name: make newsboat config
  blockinfile:
    dest: /home/{{user}}/.newsboat/config
    block: |
      refresh-on-startup yes
      auto-reload yes
      reload-threads 4
      reload-only-visible-feeds no
      show-read-feeds yes
      download-retries 4
      notify-screen yes
      notify-xterm yes
      max-items 20
      article-sort-order date-asc
      feedlist-format "%S%n %11u %t"
      articlelist-format "%D %f %?T?;%-17T; ?%t"
      datetime-format %m-%d

      color listnormal        color244 color234
      color listfocus         color166 color235
      color info              color136 color235
      color background        color244 color234
      color article           color244 color234
      color listnormal_unread color166 color234 bold
      color listfocus_unread  color166 color235

      confirm-exit no
      bind-key k up
      bind-key j down
      bind-key O open-in-browser-and-mark-read
      text-width 72
